-- CREATE VENDOR TABLE
CREATE TABLE VENDOR(
      V_CODE INT,
      V_NAME VARCHAR(35),
      V_CONTACT VARCHAR(25),
      V_AREACODE CHAR(3),
      V_PHONE CHAR(8),
      V_STATE CHAR(2),
      V_ORDER CHAR(1),
	  CONSTRAINT VENDOR_PK_V_CODE
	  PRIMARY KEY (V_CODE)
      );
	
-- CREATE PRODUCT TABLE
CREATE TABLE PRODUCT(
      P_CODE VARCHAR(10),
      P_DESCRIPT VARCHAR(35),
      P_INDATE DATE DEFAULT '0000-00-00' NOT NULL,
      P_QOH INT,
      P_MIN INT,
      P_PRICE DECIMAL (8,2),
      P_DISCOUNT DECIMAL (5,2),
      V_CODE INT,
	  CONSTRAINT PRODUCT_PK_P_CODE
      PRIMARY KEY (P_CODE),
      CONSTRAINT PRODUCT_V_CODE_FK
      FOREIGN KEY (V_CODE)
      REFERENCES VENDOR (V_CODE)
      );
	
-- CREATE CUSTOMER TABLE
CREATE TABLE CUSTOMER(
      CUS_CODE INT,
      CUS_LNAME VARCHAR(15),
      CUS_FNAME VARCHAR(15),
      CUS_INITIAL VARCHAR(1),
      CUS_AREACODE VARCHAR(3) DEFAULT '615' NOT NULL CHECK(CUS_AREACODE IN ('615','713','931')),
      CUS_PHONE VARCHAR(8),
      CUS_BALANCE DECIMAL (8,2),
	  CONSTRAINT CUS_UI1 
	  UNIQUE(CUS_LNAME,CUS_FNAME),
	  CONSTRAINT CUSTOMER_PK_CUS_CODE
      PRIMARY KEY (CUS_CODE)
      );
	
-- CREATE INVOICE TABLE
CREATE TABLE INVOICE(
      INV_NUMBER INT,
      CUS_CODE INT NOT NULL,
      INV_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	  CONSTRAINT CUSTOMER_PK_INV_NUMBER
      PRIMARY KEY (INV_NUMBER),
      CONSTRAINT INVOICE_CUS_CODE_FK
      FOREIGN KEY (CUS_CODE)
      REFERENCES CUSTOMER(CUS_CODE),
      CONSTRAINT INVOICE_INV_DATE_CC CHECK
      (INV_DATE > '2012-01-01')
      );
	
-- CREATE LINE TABLE
CREATE TABLE LINE(
     INV_NUMBER INT NOT NULL,
     LINE_NUMBER SMALLINT NOT NULL,
     P_CODE VARCHAR(10) NOT NULL,
     LINE_UNITS DECIMAL(9,2) DEFAULT 0.00 NOT NULL,
     LINE_PRICE DECIMAL(9,2) DEFAULT 0.00 NOT NULL,
	 CONSTRAINT LINE_PK_INV_NUMBER_LINE_NUMBER
     PRIMARY KEY (INV_NUMBER, LINE_NUMBER),
     CONSTRAINT LINE_INV_NUM_FK
     FOREIGN KEY (INV_NUMBER)
     REFERENCES INVOICE (INV_NUMBER) ON DELETE CASCADE,
     CONSTRAINT LINE_P_CODE_FK
     FOREIGN KEY (P_CODE)
     REFERENCES PRODUCT (P_CODE),
     UNIQUE (INV_NUMBER, P_CODE)
     );
	
-- CREATE EMP TABLE
CREATE TABLE EMP(
     EMP_NUM INT NOT NULL,
     EMP_TITLE VARCHAR(10),
     EMP_LNAME VARCHAR(15) NOT NULL,
     EMP_FNAME VARCHAR(15) NOT NULL,
     EMP_INITIAL VARCHAR(1),
     EMP_DOB DATE DEFAULT '0000-00-00' NOT NULL,
     EMP_HIRE_DATE DATE DEFAULT '0000-00-00' NOT NULL,
     EMP_YEARS TINYINT,
     EMP_AREACODE VARCHAR(3),
     EMP_PHONE VARCHAR(8),
	 CONSTRAINT EMP_PK_EMP_NUM
     PRIMARY KEY (EMP_NUM)
     );
	 

	 
/* Vendor table data (rows)*/
INSERT INTO VENDOR VALUES(21225,'Bryson, Inc.'    ,'Smithson','615','223-3234','TN','Y');
INSERT INTO VENDOR VALUES(21226,'SuperLoo, Inc.'  ,'Flushing','904','215-8995','FL','N');
INSERT INTO VENDOR VALUES(21231,'D\&E Supply'     ,'Singh'   ,'615','228-3245','TN','Y');
INSERT INTO VENDOR VALUES(21344,'Gomez Bros.'     ,'Ortega'  ,'615','889-2546','KY','N');
INSERT INTO VENDOR VALUES(22567,'Dome Supply'     ,'Smith'   ,'901','678-1419','GA','N');
INSERT INTO VENDOR VALUES(23119,'Randsets Ltd.'   ,'Anderson','901','678-3998','GA','Y');
INSERT INTO VENDOR VALUES(24004,'Brackman Bros.'  ,'Browning','615','228-1410','TN','N');
INSERT INTO VENDOR VALUES(24288,'ORDVA, Inc.'     ,'Hakford' ,'615','898-1234','TN','Y');
INSERT INTO VENDOR VALUES(25443,'B\&K, Inc.'      ,'Smith'   ,'904','227-0093','FL','N');
INSERT INTO VENDOR VALUES(25501,'Damal Supplies'  ,'Smythe'  ,'615','890-3529','TN','N');
INSERT INTO VENDOR VALUES(25595,'Rubicon Systems' ,'Orton'   ,'904','456-0092','FL','Y');	 
	 
 
/*Product table data (rows)*/
INSERT INTO PRODUCT VALUES('11QER/31','Power painter, 15 psi., 3-nozzle'     ,'2011-11-03',  8,  5,109.99,0.00,25595);
INSERT INTO PRODUCT VALUES('13-Q2/P2','7.25-in. pwr. saw blade'              ,'2011-12-13', 32, 15, 14.99,0.05,21344);
INSERT INTO PRODUCT VALUES('14-Q1/L3','9.00-in. pwr. saw blade'              ,'2011-11-13', 18, 12, 17.49,0.00,21344);
INSERT INTO PRODUCT VALUES('1546-QQ2','Hrd. cloth, 1/4-in., 2x50'            ,'2012-01-15', 15,  8, 39.95,0.00,23119);
INSERT INTO PRODUCT VALUES('1558-QW1','Hrd. cloth, 1/2-in., 3x50'            ,'2012-01-15', 23,  5, 43.99,0.00,23119);
INSERT INTO PRODUCT VALUES('2232/QTY','B\&D jigsaw, 12-in. blade'            ,'2011-12-30',  8,  5,109.92,0.05,24288);
INSERT INTO PRODUCT VALUES('2232/QWE','B\&D jigsaw, 8-in. blade'             ,'2011-12-24',  6,  5, 99.87,0.05,24288);
INSERT INTO PRODUCT VALUES('2238/QPD','B\&D cordless drill, 1/2-in.'         ,'2012-01-20', 12,  5, 38.95,0.05,25595);
INSERT INTO PRODUCT VALUES('23109-HB','Claw hammer'                          ,'2012-01-20', 23, 10,  9.95,0.10,21225);
INSERT INTO PRODUCT VALUES('23114-AA','Sledge hammer, 12 lb.'                ,'2012-01-02',  8,  5, 14.40,0.05,NULL);
INSERT INTO PRODUCT VALUES('54778-2T','Rat-tail file, 1/8-in. fine'          ,'2011-12-15', 43, 20,  4.99,0.00,21344);
INSERT INTO PRODUCT VALUES('89-WRE-Q','Hicut chain saw, 16 in.'              ,'2012-02-07', 11,  5,256.99,0.05,24288);
INSERT INTO PRODUCT VALUES('PVC23DRT','PVC pipe, 3.5-in., 8-ft'              ,'2012-02-20',188, 75,  5.87,0.00,NULL);
INSERT INTO PRODUCT VALUES('SM-18277','1.25-in. metal screw, 25'             ,'2012-03-01',172, 75,  6.99,0.00,21225);
INSERT INTO PRODUCT VALUES('SW-23116','2.5-in. wd. screw, 50'                ,'2012-02-24',237,100,  8.45,0.00,21231);
INSERT INTO PRODUCT VALUES('WR3/TT3' ,'Steel matting, 4''x8''x1/6", .5" mesh','2012-01-17', 18,  5,119.95,0.10,25595);
	 

/* CUSTOMER rows*/
INSERT INTO CUSTOMER VALUES(10010,'Ramas'   ,'Alfred','A' ,'615','844-2573',0);
INSERT INTO CUSTOMER VALUES(10011,'Dunne'   ,'Leona' ,'K' ,'713','894-1238',0);
INSERT INTO CUSTOMER VALUES(10012,'Smith'   ,'Kathy' ,'W' ,'615','894-2285',345.86);
INSERT INTO CUSTOMER VALUES(10013,'Olowski' ,'Paul'  ,'F' ,'615','894-2180',536.75);
INSERT INTO CUSTOMER VALUES(10014,'Orlando' ,'Myron' ,NULL,'615','222-1672',0);
INSERT INTO CUSTOMER VALUES(10015,'O''Brian','Amy'   ,'B' ,'713','442-3381',0);
INSERT INTO CUSTOMER VALUES(10016,'Brown'   ,'James' ,'G' ,'615','297-1228',221.19);
INSERT INTO CUSTOMER VALUES(10017,'Williams','George',NULL,'615','290-2556',768.93);
INSERT INTO CUSTOMER VALUES(10018,'Farriss' ,'Anne'  ,'G' ,'713','382-7185',216.55);
INSERT INTO CUSTOMER VALUES(10019,'Smith'   ,'Olette','K' ,'615','297-3809',0);

/* INVOICE rows*/
INSERT INTO INVOICE VALUES(1001,10014,'2012-01-16');
INSERT INTO INVOICE VALUES(1002,10011,'2012-01-16');
INSERT INTO INVOICE VALUES(1003,10012,'2012-01-16');
INSERT INTO INVOICE VALUES(1004,10011,'2012-01-17');
INSERT INTO INVOICE VALUES(1005,10018,'2012-01-17');
INSERT INTO INVOICE VALUES(1006,10014,'2012-01-17');
INSERT INTO INVOICE VALUES(1007,10015,'2012-01-17');
INSERT INTO INVOICE VALUES(1008,10011,'2012-01-17');

/* LINE rows*/
INSERT INTO LINE VALUES(1001,1,'13-Q2/P2',1,14.99);
INSERT INTO LINE VALUES(1001,2,'23109-HB',1,9.95);
INSERT INTO LINE VALUES(1002,1,'54778-2T',2,4.99);
INSERT INTO LINE VALUES(1003,1,'2238/QPD',1,38.95);
INSERT INTO LINE VALUES(1003,2,'1546-QQ2',1,39.95);
INSERT INTO LINE VALUES(1003,3,'13-Q2/P2',5,14.99);
INSERT INTO LINE VALUES(1004,1,'54778-2T',3,4.99);
INSERT INTO LINE VALUES(1004,2,'23109-HB',2,9.95);
INSERT INTO LINE VALUES(1005,1,'PVC23DRT',12,5.87);
INSERT INTO LINE VALUES(1006,1,'SM-18277',3,6.99);
INSERT INTO LINE VALUES(1006,2,'2232/QTY',1,109.92);
INSERT INTO LINE VALUES(1006,3,'23109-HB',1,9.95);
INSERT INTO LINE VALUES(1006,4,'89-WRE-Q',1,256.99);
INSERT INTO LINE VALUES(1007,1,'13-Q2/P2',2,14.99);
INSERT INTO LINE VALUES(1007,2,'54778-2T',1,4.99);
INSERT INTO LINE VALUES(1008,1,'PVC23DRT',5,5.87);
INSERT INTO LINE VALUES(1008,2,'WR3/TT3',3,119.95);
INSERT INTO LINE VALUES(1008,3,'23109-HB',1,9.95);

/* EMPLOYEE rows*/
INSERT INTO EMP VALUES(100,'Mr.' ,'Kolmycz'   ,'George' ,'D' ,'1942-06-14','1985-03-15',24,'615','324-5456');
INSERT INTO EMP VALUES(101,'Ms.' ,'Lewis'     ,'Rhonda' ,'G' ,'1965-03-19','1986-04-25',22,'615','324-4472');
INSERT INTO EMP VALUES(102,'Mr.' ,'Vandam'    ,'Rhett'  ,NULL,'1958-11-14','1990-12-20',18,'901','675-8993');
INSERT INTO EMP VALUES(103,'Ms.' ,'Jones'     ,'Anne'   ,'M' ,'1974-10-16','1994-08-28', 14,'615','898-3456');
INSERT INTO EMP VALUES(104,'Mr.' ,'Lange'     ,'John'   ,'P' ,'1971-11-08','1994-10-20', 14,'901','504-4430');
INSERT INTO EMP VALUES(105,'Mr.' ,'Williams'  ,'Robert' ,'D' ,'1975-03-14','1998-11-08', 10,'615','890-3220');
INSERT INTO EMP VALUES(106,'Mrs.','Smith'     ,'Jeanine','K' ,'1968-02-12','1989-01-05',20,'615','324-7883');
INSERT INTO EMP VALUES(107,'Mr.' ,'Diante'    ,'Jorge'  ,'D' ,'1974-08-21','1994-07-02', 14,'615','890-4567');
INSERT INTO EMP VALUES(108,'Mr.' ,'Wiesenbach','Paul'   ,'R' ,'1966-02-14','1992-11-18',16,'615','897-4358');
INSERT INTO EMP VALUES(109,'Mr.' ,'Smith'     ,'George' ,'K' ,'1961-06-18','1989-04-14',19,'901','504-3339');
INSERT INTO EMP VALUES(110,'Mrs.','Genkazi'   ,'Leighla','W' ,'1970-05-19','1990-12-01',18,'901','569-0093');
INSERT INTO EMP VALUES(111,'Mr.' ,'Washington','Rupert' ,'E' ,'1966-01-03','1993-06-21', 15,'615','890-4925');
INSERT INTO EMP VALUES(112,'Mr.' ,'Johnson'   ,'Edward' ,'E' ,'1961-05-14','1983-12-01',25,'615','898-4387');
INSERT INTO EMP VALUES(113,'Ms.' ,'Smythe'    ,'Melanie','P' ,'1970-09-15','1999-05-11', 9,'615','324-9006');
INSERT INTO EMP VALUES(114,'Ms.' ,'Brandon'   ,'Marie'  ,'G' ,'1956-11-02','1979-11-15',29,'901','882-0845');
INSERT INTO EMP VALUES(115,'Mrs.','Saranda'   ,'Hermine','R' ,'1972-07-25','1993-04-23', 15,'615','324-5505');
INSERT INTO EMP VALUES(116,'Mr.' ,'Smith'     ,'George' ,'A' ,'1965-11-08','1988-12-10',20,'615','890-2984');
	 
COMMIT;
